import{c as O,a as z,ah as K,ai as L,d as A,u as q,g as G,aj as Q,h as _,ak as X,al as Z,i as ee,am as te,l as x,an as se,T as ne,a2 as ae,A as ie,M as oe,a1 as le,r as $,B as I,C as j,R as e,P as n,S as o,D as t,N as D,W as u,ac as h,ad as y,Q as re,_ as N,ao as ce,I as ue,a9 as pe,ap as de,O as R,aq as me,$ as ve,F as W,U as V,ar as fe,as as he,at as M,au as ge,av as ye}from"./index-51464183.js";const ke=O([O("@keyframes spin-rotate",`
 from {
 transform: rotate(0);
 }
 to {
 transform: rotate(360deg);
 }
 `),z("spin-container",{position:"relative"},[z("spin-body",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[K()])]),z("spin-body",`
 display: inline-flex;
 align-items: center;
 justify-content: center;
 flex-direction: column;
 `),z("spin",`
 display: inline-flex;
 height: var(--n-size);
 width: var(--n-size);
 font-size: var(--n-size);
 color: var(--n-color);
 `,[L("rotate",`
 animation: spin-rotate 2s linear infinite;
 `)]),z("spin-description",`
 display: inline-block;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 margin-top: 8px;
 `),z("spin-content",`
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 pointer-events: all;
 `,[L("spinning",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: none;
 opacity: var(--n-opacity-spinning);
 `)])]),be={small:20,medium:18,large:16},xe=Object.assign(Object.assign({},G.props),{description:String,stroke:String,size:{type:[String,Number],default:"medium"},show:{type:Boolean,default:!0},strokeWidth:Number,rotate:{type:Boolean,default:!0},spinning:{type:Boolean,validator:()=>!0,default:void 0}}),_e=A({name:"Spin",props:xe,setup(p){const{mergedClsPrefixRef:d,inlineThemeDisabled:l}=q(p),i=G("Spin","-spin",ke,Q,p,d),m=_(()=>{const{size:s}=p,{common:{cubicBezierEaseInOut:f},self:g}=i.value,{opacitySpinning:k,color:b,textColor:w}=g,C=typeof s=="number"?X(s):g[Z("size",s)];return{"--n-bezier":f,"--n-opacity-spinning":k,"--n-size":C,"--n-color":b,"--n-text-color":w}}),v=l?ee("spin",_(()=>{const{size:s}=p;return typeof s=="number"?String(s):s[0]}),m,p):void 0;return{mergedClsPrefix:d,compitableShow:te(p,["spinning","show"]),mergedStrokeWidth:_(()=>{const{strokeWidth:s}=p;if(s!==void 0)return s;const{size:f}=p;return be[typeof f=="number"?"medium":f]}),cssVars:l?void 0:m,themeClass:v==null?void 0:v.themeClass,onRender:v==null?void 0:v.onRender}},render(){var p,d;const{$slots:l,mergedClsPrefix:i,description:m}=this,v=l.icon&&this.rotate,s=(m||l.description)&&x("div",{class:`${i}-spin-description`},m||((p=l.description)===null||p===void 0?void 0:p.call(l))),f=l.icon?x("div",{class:[`${i}-spin-body`,this.themeClass]},x("div",{class:[`${i}-spin`,v&&`${i}-spin--rotate`],style:l.default?"":this.cssVars},l.icon()),s):x("div",{class:[`${i}-spin-body`,this.themeClass]},x(se,{clsPrefix:i,style:l.default?"":this.cssVars,stroke:this.stroke,"stroke-width":this.mergedStrokeWidth,class:`${i}-spin`}),s);return(d=this.onRender)===null||d===void 0||d.call(this),l.default?x("div",{class:[`${i}-spin-container`,this.themeClass],style:this.cssVars},x("div",{class:[`${i}-spin-content`,this.compitableShow&&`${i}-spin-content--spinning`]},l),x(ne,{name:"fade-in-transition"},{default:()=>this.compitableShow?f:null})):f}});function $e(){const p=new Date,d=p.getDate(),l=p.getMonth()+1;return`${p.getFullYear()}-${l}-${d}`}const we={class:"p-4 space-y-5 min-h-[200px]"},Ce={class:"space-y-6"},Se={class:"flex items-center space-x-4"},ze={class:"flex-shrink-0 w-[100px]"},Ne={class:"flex-1"},Ie={class:"flex items-center space-x-4"},Pe={class:"flex-shrink-0 w-[100px]"},Te={class:"flex-1"},Be={class:"flex items-center space-x-4"},Ue={class:"flex-shrink-0 w-[100px]"},De={class:"w-[200px]"},Re={class:"flex items-center space-x-4"},je={class:"flex-shrink-0 w-[100px]"},Ae={class:"flex-1"},Oe={class:"flex-shrink-0 w-[100px]"},Le={class:"flex flex-wrap items-center gap-4"},Ve={class:"flex items-center space-x-4"},Me={class:"flex-shrink-0 w-[100px]"},Ge={class:"flex flex-wrap items-center gap-4"},We={class:"flex items-center space-x-4"},Ee={class:"flex-shrink-0 w-[100px]"},Fe={class:"flex flex-wrap items-center gap-4"},He={class:"flex items-center space-x-4"},Je={class:"flex-shrink-0 w-[100px]"},Ye=A({__name:"General",setup(p){const d=ae(),l=ie(),{isMobile:i}=oe(),m=le(),v=_(()=>d.theme),s=_(()=>l.userInfo),f=$(s.value.avatar??""),g=$(s.value.aiAvatar??""),k=$(s.value.name??""),b=$(s.value.description??""),w=_({get(){return d.language},set(a){d.setLanguage(a)}}),C=[{label:"Auto",key:"auto",icon:"ri:contrast-line"},{label:"Light",key:"light",icon:"ri:sun-foggy-line"},{label:"Dark",key:"dark",icon:"ri:moon-foggy-line"}],T=[{label:"简体中文",key:"zh-CN",value:"zh-CN"},{label:"繁體中文",key:"zh-TW",value:"zh-TW"},{label:"English",key:"en-US",value:"en-US"}];function B(a){l.updateUserInfo(a),m.success(R("common.success"))}function E(){l.resetUserInfo(),m.success(R("common.success")),window.location.reload()}function F(){const a=$e(),r=localStorage.getItem("chatStorage")||"{}",c=JSON.stringify(JSON.parse(r),null,2),S=new Blob([c],{type:"application/json"}),U=URL.createObjectURL(S),P=document.createElement("a");P.href=U,P.download=`chat-store_${a}.json`,document.body.appendChild(P),P.click(),document.body.removeChild(P)}function H(a){const r=a.target;if(!r||!r.files)return;const c=r.files[0];if(!c)return;const S=new FileReader;S.onload=()=>{try{const U=JSON.parse(S.result);localStorage.setItem("chatStorage",JSON.stringify(U)),m.success(R("common.success")),location.reload()}catch{m.error(R("common.invalidFileFormat"))}},S.readAsText(c)}function J(){localStorage.removeItem("chatStorage"),location.reload()}function Y(){const a=document.getElementById("fileInput");a&&a.click()}return(a,r)=>(I(),j("div",we,[e("div",Ce,[e("div",Se,[e("span",ze,n(a.$t("setting.avatarLink")),1),e("div",Ne,[o(t(D),{value:f.value,"onUpdate:value":r[0]||(r[0]=c=>f.value=c),placeholder:""},null,8,["value"])]),o(t(y),{size:"tiny",text:"",type:"primary",onClick:r[1]||(r[1]=c=>B({avatar:f.value}))},{default:u(()=>[h(n(a.$t("common.save")),1)]),_:1})]),e("div",Ie,[e("span",Pe,n(a.$t("setting.gptAvatarLink")),1),e("div",Te,[o(t(D),{value:g.value,"onUpdate:value":r[2]||(r[2]=c=>g.value=c),placeholder:""},null,8,["value"])]),o(t(y),{size:"tiny",text:"",type:"primary",onClick:r[3]||(r[3]=c=>B({aiAvatar:g.value}))},{default:u(()=>[h(n(a.$t("common.save")),1)]),_:1})]),e("div",Be,[e("span",Ue,n(a.$t("setting.name")),1),e("div",De,[o(t(D),{value:k.value,"onUpdate:value":r[4]||(r[4]=c=>k.value=c),placeholder:""},null,8,["value"])]),o(t(y),{size:"tiny",text:"",type:"primary",onClick:r[5]||(r[5]=c=>B({name:k.value}))},{default:u(()=>[h(n(a.$t("common.save")),1)]),_:1})]),e("div",Re,[e("span",je,n(a.$t("setting.description")),1),e("div",Ae,[o(t(D),{value:b.value,"onUpdate:value":r[6]||(r[6]=c=>b.value=c),placeholder:""},null,8,["value"])]),o(t(y),{size:"tiny",text:"",type:"primary",onClick:r[7]||(r[7]=c=>B({description:b.value}))},{default:u(()=>[h(n(a.$t("common.save")),1)]),_:1})]),e("div",{class:re(["flex items-center space-x-4",t(i)&&"items-start"])},[e("span",Oe,n(a.$t("setting.chatHistory")),1),e("div",Le,[o(t(y),{size:"small",onClick:F},{icon:u(()=>[o(t(N),{icon:"ri:download-2-fill"})]),default:u(()=>[h(" "+n(a.$t("common.export")),1)]),_:1}),e("input",{id:"fileInput",type:"file",style:{display:"none"},onChange:H},null,32),o(t(y),{size:"small",onClick:Y},{icon:u(()=>[o(t(N),{icon:"ri:upload-2-fill"})]),default:u(()=>[h(" "+n(a.$t("common.import")),1)]),_:1}),o(t(ce),{placement:"bottom",onPositiveClick:J},{trigger:u(()=>[o(t(y),{size:"small"},{icon:u(()=>[o(t(N),{icon:"ri:close-circle-line"})]),default:u(()=>[h(" "+n(a.$t("common.clear")),1)]),_:1})]),default:u(()=>[h(" "+n(a.$t("chat.clearHistoryConfirm")),1)]),_:1})])],2),e("div",Ve,[e("span",Me,n(a.$t("setting.theme")),1),e("div",Ge,[(I(),j(ue,null,pe(C,c=>o(t(y),{key:c.key,size:"small",type:c.key===t(v)?"primary":void 0,onClick:S=>t(d).setTheme(c.key)},{icon:u(()=>[o(t(N),{icon:c.icon},null,8,["icon"])]),_:2},1032,["type","onClick"])),64))])]),e("div",We,[e("span",Ee,n(a.$t("setting.language")),1),e("div",Fe,[o(t(de),{style:{width:"140px"},value:t(w),options:T,onUpdateValue:r[8]||(r[8]=c=>t(d).setLanguage(c))},null,8,["value"])])]),e("div",He,[e("span",Je,n(a.$t("setting.resetUserInfo")),1),o(t(y),{size:"small",onClick:E},{default:u(()=>[h(n(a.$t("common.reset")),1)]),_:1})])])]))}}),Ke="chatgpt-web",qe="2.10.7",Qe="ChatGPT Web",Xe="ChenZhaoYu <chenzhaoyu1994@gmail.com>",Ze=["chatgpt-web","chatgpt","chatbot","vue"],et={dev:"vite",deploy:"run-p type-check build-only && git push",preview:"vite preview","build-only":"vite build","type-check":"vue-tsc --noEmit",push:"git push",lint:"eslint .","lint:fix":"eslint . --fix",bootstrap:"pnpm install && pnpm run common:prepare","common:cleanup":"rimraf node_modules && rimraf pnpm-lock.yaml","common:prepare":"husky install"},tt={"@traptitech/markdown-it-katex":"^3.6.0","@vueuse/core":"^9.13.0","highlight.js":"^11.7.0",html2canvas:"^1.4.1",katex:"^0.16.4","markdown-it":"^13.0.1","naive-ui":"^2.34.3",pinia:"^2.0.33",vue:"^3.2.47","vue-i18n":"^9.2.2","vue-router":"^4.1.6"},st={"@antfu/eslint-config":"^0.35.3","@commitlint/cli":"^17.4.4","@commitlint/config-conventional":"^17.4.4","@iconify/vue":"^4.1.0","@types/crypto-js":"^4.1.1","@types/katex":"^0.16.0","@types/markdown-it":"^12.2.3","@types/markdown-it-link-attributes":"^3.0.1","@types/node":"^18.14.6","@vitejs/plugin-vue":"^4.0.0",autoprefixer:"^10.4.13",axios:"^1.3.4","crypto-js":"^4.1.1",eslint:"^8.35.0",husky:"^8.0.3",less:"^4.1.3","lint-staged":"^13.1.2","markdown-it-link-attributes":"^4.0.1","npm-run-all":"^4.1.5",postcss:"^8.4.21",rimraf:"^4.2.0",tailwindcss:"^3.2.7",typescript:"~4.9.5",vite:"^4.2.0","vite-plugin-pwa":"^0.14.4","vue-tsc":"^1.2.0"},nt={name:Ke,version:qe,private:!1,description:Qe,author:Xe,keywords:Ze,scripts:et,dependencies:tt,devDependencies:st,"lint-staged":{"*.{ts,tsx,vue}":["pnpm lint:fix"]}},at={class:"p-4 space-y-4"},it={class:"text-xl font-bold"},ot=e("div",{class:"p-2 space-y-2 rounded-md bg-neutral-100 dark:bg-neutral-700"},[e("p",null,[h(" 此项目开源于 "),e("a",{class:"text-blue-600 dark:text-blue-500",href:"https://github.com/Chanzhaoyu/chatgpt-web",target:"_blank"}," Github "),h(" ，免费且基于 MIT 协议，没有任何形式的付费行为！ ")]),e("p",null," 如果你觉得此项目对你有帮助，请在 Github 帮我点个 Star 或者给予一点赞助，谢谢！ ")],-1),lt={key:0},rt={key:1},ct=A({__name:"About",setup(p){const d=me(),l=$(!1),i=$(),m=_(()=>!!d.isChatGPTAPI);async function v(){try{l.value=!0;const{data:s}=await fe();i.value=s}finally{l.value=!1}}return ve(()=>{v()}),(s,f)=>(I(),W(t(_e),{show:l.value},{default:u(()=>{var g,k,b,w,C,T;return[e("div",at,[e("h2",it," Version - "+n(t(nt).version),1),ot,e("p",null,n(s.$t("setting.api"))+"："+n(((g=i.value)==null?void 0:g.apiModel)??"-"),1),t(m)?(I(),j("p",lt,n(s.$t("setting.balance"))+"："+n(((k=i.value)==null?void 0:k.balance)??"-"),1)):V("",!0),t(m)?V("",!0):(I(),j("p",rt,n(s.$t("setting.reverseProxy"))+"："+n(((b=i.value)==null?void 0:b.reverseProxy)??"-"),1)),e("p",null,n(s.$t("setting.timeout"))+"："+n(((w=i.value)==null?void 0:w.timeoutMs)??"-"),1),e("p",null,n(s.$t("setting.socks"))+"："+n(((C=i.value)==null?void 0:C.socksProxy)??"-"),1),e("p",null,n(s.$t("setting.httpsProxy"))+"："+n(((T=i.value)==null?void 0:T.httpsProxy)??"-"),1)])]}),_:1},8,["show"]))}}),ut={class:"ml-2"},pt={class:"min-h-[100px]"},dt={class:"ml-2"},vt=A({__name:"index",props:{visible:{type:Boolean}},emits:["update:visible"],setup(p,{emit:d}){const l=p,i=$("General"),m=_({get(){return l.visible},set(v){d("update:visible",v)}});return(v,s)=>(I(),W(t(ye),{show:t(m),"onUpdate:show":s[1]||(s[1]=f=>ge(m)?m.value=f:null),"auto-focus":!1,preset:"card",style:{width:"95%","max-width":"640px"}},{default:u(()=>[e("div",null,[o(t(he),{value:i.value,"onUpdate:value":s[0]||(s[0]=f=>i.value=f),type:"line",animated:""},{default:u(()=>[o(t(M),{name:"General",tab:"General"},{tab:u(()=>[o(t(N),{class:"text-lg",icon:"ri:file-user-line"}),e("span",ut,n(v.$t("setting.general")),1)]),default:u(()=>[e("div",pt,[o(Ye)])]),_:1}),o(t(M),{name:"Config",tab:"Config"},{tab:u(()=>[o(t(N),{class:"text-lg",icon:"ri:list-settings-line"}),e("span",dt,n(v.$t("setting.config")),1)]),default:u(()=>[o(ct)]),_:1})]),_:1},8,["value"])])]),_:1},8,["show"]))}});export{vt as default};
