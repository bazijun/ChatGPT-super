import{c as E,a as $,ah as ne,ai as S,d as P,u as K,g as O,aj as oe,h as x,ak as ae,al as Y,i as q,am as Q,l as y,an as ie,T as le,ao as re,a2 as ce,A as de,M as ue,a1 as pe,r as T,ap as me,O as D,B,C as V,R as s,P as c,S as l,D as e,aq as fe,ar as F,Q as G,N as W,W as d,ac as g,ad as b,_ as z,as as he,I as ve,a9 as ge,at as ye,$ as xe,F as X,U as H,au as be,av as ke,aw as J,ax as _e,ay as $e}from"./index-5a3b0171.js";const we=E([E("@keyframes spin-rotate",`
 from {
 transform: rotate(0);
 }
 to {
 transform: rotate(360deg);
 }
 `),$("spin-container",{position:"relative"},[$("spin-body",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[ne()])]),$("spin-body",`
 display: inline-flex;
 align-items: center;
 justify-content: center;
 flex-direction: column;
 `),$("spin",`
 display: inline-flex;
 height: var(--n-size);
 width: var(--n-size);
 font-size: var(--n-size);
 color: var(--n-color);
 `,[S("rotate",`
 animation: spin-rotate 2s linear infinite;
 `)]),$("spin-description",`
 display: inline-block;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 margin-top: 8px;
 `),$("spin-content",`
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 pointer-events: all;
 `,[S("spinning",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: none;
 opacity: var(--n-opacity-spinning);
 `)])]),Ce={small:20,medium:18,large:16},Se=Object.assign(Object.assign({},O.props),{description:String,stroke:String,size:{type:[String,Number],default:"medium"},show:{type:Boolean,default:!0},strokeWidth:Number,rotate:{type:Boolean,default:!0},spinning:{type:Boolean,validator:()=>!0,default:void 0}}),ze=P({name:"Spin",props:Se,setup(o){const{mergedClsPrefixRef:u,inlineThemeDisabled:a}=K(o),t=O("Spin","-spin",we,oe,o,u),p=x(()=>{const{size:n}=o,{common:{cubicBezierEaseInOut:v},self:h}=t.value,{opacitySpinning:k,color:w,textColor:N}=h,I=typeof n=="number"?ae(n):h[Y("size",n)];return{"--n-bezier":v,"--n-opacity-spinning":k,"--n-size":I,"--n-color":w,"--n-text-color":N}}),r=a?q("spin",x(()=>{const{size:n}=o;return typeof n=="number"?String(n):n[0]}),p,o):void 0;return{mergedClsPrefix:u,compitableShow:Q(o,["spinning","show"]),mergedStrokeWidth:x(()=>{const{strokeWidth:n}=o;if(n!==void 0)return n;const{size:v}=o;return Ce[typeof v=="number"?"medium":v]}),cssVars:a?void 0:p,themeClass:r==null?void 0:r.themeClass,onRender:r==null?void 0:r.onRender}},render(){var o,u;const{$slots:a,mergedClsPrefix:t,description:p}=this,r=a.icon&&this.rotate,n=(p||a.description)&&y("div",{class:`${t}-spin-description`},p||((o=a.description)===null||o===void 0?void 0:o.call(a))),v=a.icon?y("div",{class:[`${t}-spin-body`,this.themeClass]},y("div",{class:[`${t}-spin`,r&&`${t}-spin--rotate`],style:a.default?"":this.cssVars},a.icon()),n):y("div",{class:[`${t}-spin-body`,this.themeClass]},y(ie,{clsPrefix:t,style:a.default?"":this.cssVars,stroke:this.stroke,"stroke-width":this.mergedStrokeWidth,class:`${t}-spin`}),n);return(u=this.onRender)===null||u===void 0||u.call(this),a.default?y("div",{class:[`${t}-spin-container`,this.themeClass],style:this.cssVars},y("div",{class:[`${t}-spin-content`,this.compitableShow&&`${t}-spin-content--spinning`]},a),y(le,{name:"fade-in-transition"},{default:()=>this.compitableShow?v:null})):v}}),Te=$("text",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
`,[S("strong",`
 font-weight: var(--n-font-weight-strong);
 `),S("italic",{fontStyle:"italic"}),S("underline",{textDecoration:"underline"}),S("code",`
 line-height: 1.4;
 display: inline-block;
 font-family: var(--n-font-famliy-mono);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 box-sizing: border-box;
 padding: .05em .35em 0 .35em;
 border-radius: var(--n-code-border-radius);
 font-size: .9em;
 color: var(--n-code-text-color);
 background-color: var(--n-code-color);
 border: var(--n-code-border);
 `)]),Be=Object.assign(Object.assign({},O.props),{code:Boolean,type:{type:String,default:"default"},delete:Boolean,strong:Boolean,italic:Boolean,underline:Boolean,depth:[String,Number],tag:String,as:{type:String,validator:()=>!0,default:void 0}}),U=P({name:"Text",props:Be,setup(o){const{mergedClsPrefixRef:u,inlineThemeDisabled:a}=K(o),t=O("Typography","-text",Te,re,o,u),p=x(()=>{const{depth:n,type:v}=o,h=v==="default"?n===void 0?"textColor":`textColor${n}Depth`:Y("textColor",v),{common:{fontWeightStrong:k,fontFamilyMono:w,cubicBezierEaseInOut:N},self:{codeTextColor:I,codeBorderRadius:j,codeColor:L,codeBorder:_,[h]:A}}=t.value;return{"--n-bezier":N,"--n-text-color":A,"--n-font-weight-strong":k,"--n-font-famliy-mono":w,"--n-code-border-radius":j,"--n-code-text-color":I,"--n-code-color":L,"--n-code-border":_}}),r=a?q("text",x(()=>`${o.type[0]}${o.depth||""}`),p,o):void 0;return{mergedClsPrefix:u,compitableTag:Q(o,["as","tag"]),cssVars:a?void 0:p,themeClass:r==null?void 0:r.themeClass,onRender:r==null?void 0:r.onRender}},render(){var o,u,a;const{mergedClsPrefix:t}=this;(o=this.onRender)===null||o===void 0||o.call(this);const p=[`${t}-text`,this.themeClass,{[`${t}-text--code`]:this.code,[`${t}-text--delete`]:this.delete,[`${t}-text--strong`]:this.strong,[`${t}-text--italic`]:this.italic,[`${t}-text--underline`]:this.underline}],r=(a=(u=this.$slots).default)===null||a===void 0?void 0:a.call(u);return this.code?y("code",{class:p,style:this.cssVars},this.delete?y("del",null,r):r):this.delete?y("del",{class:p,style:this.cssVars},r):y(this.compitableTag||"span",{class:p,style:this.cssVars},r)}});function Ne(){const o=new Date,u=o.getDate(),a=o.getMonth()+1;return`${o.getFullYear()}-${a}-${u}`}const Ie={class:"p-4 space-y-5 min-h-[200px]"},Me={class:"space-y-6"},Pe={class:"flex items-center space-x-4"},Re={class:"flex-shrink-0 w-[100px]"},De={class:"flex flex-wrap items-center gap-4"},Ue={class:"flex-shrink-0 w-[100px]"},Ve={class:"flex-1"},Oe=s("div",{class:"dark:text-orange-200 text-orange-400"},' 设置该项后，AI将会在任何对话中，一直扮演你在初始指令中所描述的"东西"😋 ',-1),je={class:"flex items-center space-x-4"},Le={class:"flex-shrink-0 w-[100px]"},Ae={class:"flex-1"},Ge={class:"flex items-center space-x-4"},We={class:"flex-shrink-0 w-[100px]"},Ee={class:"w-[200px]"},Fe={class:"flex-shrink-0 w-[100px]"},He={class:"flex flex-wrap items-center gap-4"},Je={class:"flex items-center space-x-4"},Ke={class:"flex-shrink-0 w-[100px]"},Ye={class:"flex flex-wrap items-center gap-4"},qe={class:"flex items-center space-x-4"},Qe={class:"flex-shrink-0 w-[100px]"},Xe={class:"flex flex-wrap items-center gap-4"},Ze={class:"flex items-center space-x-4"},et={class:"flex-shrink-0 w-[100px]"},tt=P({__name:"General",setup(o){const u=ce(),a=de(),{isMobile:t}=ue(),p=pe(),r=x(()=>u.theme),n=x(()=>a.userInfo),v=T(n.value.avatar??""),h=T(n.value.name??""),k=T(n.value.systemMessage??""),w=me(),N=x({get(){return n.value.aiModel??"gpt-3.5-turbo"},set(i){_({aiAvatar:i})}}),I=x({get(){return u.language},set(i){u.setLanguage(i)}}),j=[{label:"Auto",key:"auto",icon:"ri:contrast-line"},{label:"Light",key:"light",icon:"ri:sun-foggy-line"},{label:"Dark",key:"dark",icon:"ri:moon-foggy-line"}],L=[{label:"简体中文",key:"zh-CN",value:"zh-CN"},{label:"繁體中文",key:"zh-TW",value:"zh-TW"},{label:"English",key:"en-US",value:"en-US"}];function _(i){a.updateUserInfo(i),p.success(D("common.success"))}function A(){a.resetUserInfo(),p.success(D("common.success")),window.location.reload()}function Z(){const i=Ne(),m=localStorage.getItem("chatStorage")||"{}",f=JSON.stringify(JSON.parse(m),null,2),C=new Blob([f],{type:"application/json"}),R=URL.createObjectURL(C),M=document.createElement("a");M.href=R,M.download=`chat-store_${i}.json`,document.body.appendChild(M),M.click(),document.body.removeChild(M)}function ee(i){const m=i.target;if(!m||!m.files)return;const f=m.files[0];if(!f)return;const C=new FileReader;C.onload=()=>{try{const R=JSON.parse(C.result);localStorage.setItem("chatStorage",JSON.stringify(R)),p.success(D("common.success")),location.reload()}catch{p.error(D("common.invalidFileFormat"))}},C.readAsText(f)}function te(){localStorage.removeItem("chatStorage"),location.reload()}function se(){const i=document.getElementById("fileInput");i&&i.click()}return(i,m)=>(B(),V("div",Ie,[s("div",Me,[s("div",Pe,[s("span",Re,c(i.$t("setting.aiModel")),1),s("div",De,[l(e(F),{style:{width:"180px"},value:e(N),options:e(fe),onUpdateValue:m[0]||(m[0]=f=>{_({aiModel:f})})},null,8,["value","options"])])]),s("div",{class:G(`${e(t)?"space-y-2":"flex items-center space-x-4"}`)},[s("span",Ue,c(i.$t("setting.systemMessage")),1),s("div",Ve,[l(e(W),{value:k.value,"onUpdate:value":m[1]||(m[1]=f=>k.value=f),type:"textarea",placeholder:"",rows:3},null,8,["value"]),Oe]),s("div",{class:G(`${e(t)&&"text-right"} space-x-3`)},[l(e(b),{size:"tiny",text:!e(t),tertiary:e(t),type:"primary",onClick:m[2]||(m[2]=f=>_({systemMessage:k.value}))},{default:d(()=>[g(c(i.$t("common.save")),1)]),_:1},8,["text","tertiary"]),l(e(b),{size:"tiny",text:!e(t),tertiary:e(t),type:"warning",onClick:m[3]||(m[3]=()=>{_({systemMessage:e(w)}),k.value=e(w)})},{default:d(()=>[g(c(i.$t("common.reset")),1)]),_:1},8,["text","tertiary"])],2)],2),s("div",je,[s("span",Le,c(i.$t("setting.avatarLink")),1),s("div",Ae,[l(e(W),{value:v.value,"onUpdate:value":m[4]||(m[4]=f=>v.value=f),placeholder:""},null,8,["value"])]),l(e(b),{size:"tiny",text:"",type:"primary",onClick:m[5]||(m[5]=f=>_({avatar:v.value}))},{default:d(()=>[g(c(i.$t("common.save")),1)]),_:1})]),s("div",Ge,[s("span",We,c(i.$t("setting.name")),1),s("div",Ee,[l(e(W),{value:h.value,"onUpdate:value":m[6]||(m[6]=f=>h.value=f),placeholder:""},null,8,["value"])]),l(e(b),{size:"tiny",text:"",type:"primary",onClick:m[7]||(m[7]=f=>_({name:h.value}))},{default:d(()=>[g(c(i.$t("common.save")),1)]),_:1})]),s("div",{class:G(["flex items-center space-x-4",e(t)&&"items-start"])},[s("span",Fe,c(i.$t("setting.chatHistory")),1),s("div",He,[l(e(b),{size:"small",onClick:Z},{icon:d(()=>[l(e(z),{icon:"ri:download-2-fill"})]),default:d(()=>[g(" "+c(i.$t("common.export")),1)]),_:1}),s("input",{id:"fileInput",type:"file",style:{display:"none"},onChange:ee},null,32),l(e(b),{size:"small",onClick:se},{icon:d(()=>[l(e(z),{icon:"ri:upload-2-fill"})]),default:d(()=>[g(" "+c(i.$t("common.import")),1)]),_:1}),l(e(he),{placement:"bottom",onPositiveClick:te},{trigger:d(()=>[l(e(b),{size:"small"},{icon:d(()=>[l(e(z),{icon:"ri:close-circle-line"})]),default:d(()=>[g(" "+c(i.$t("common.clear")),1)]),_:1})]),default:d(()=>[g(" "+c(i.$t("chat.clearHistoryConfirm")),1)]),_:1})])],2),s("div",Je,[s("span",Ke,c(i.$t("setting.theme")),1),s("div",Ye,[(B(),V(ve,null,ge(j,f=>l(e(b),{key:f.key,size:"small",type:f.key===e(r)?"primary":void 0,onClick:C=>e(u).setTheme(f.key)},{icon:d(()=>[l(e(z),{icon:f.icon},null,8,["icon"])]),_:2},1032,["type","onClick"])),64))])]),s("div",qe,[s("span",Qe,c(i.$t("setting.language")),1),s("div",Xe,[l(e(F),{style:{width:"140px"},value:e(I),options:L,onUpdateValue:m[8]||(m[8]=f=>e(u).setLanguage(f))},null,8,["value"])])]),s("div",Ze,[s("span",et,c(i.$t("setting.resetUserInfo")),1),l(e(b),{size:"small",onClick:A},{default:d(()=>[g(c(i.$t("common.reset")),1)]),_:1})])])]))}}),st="chatgpt-web",nt="23.7.31",ot="ChatGPT Web",at="ChenZhaoYu <chenzhaoyu1994@gmail.com>",it=["chatgpt-web","chatgpt","chatbot","vue"],lt={dev:"vite",build:"run-p type-check build-only",preview:"vite preview","build-only":"vite build","type-check":"vue-tsc --noEmit",lint:"eslint .","lint:fix":"eslint . --fix",bootstrap:"pnpm install && pnpm run common:prepare","common:cleanup":"rimraf node_modules && rimraf pnpm-lock.yaml","common:prepare":"husky install"},rt={"@traptitech/markdown-it-katex":"^3.6.0","@vueuse/core":"^9.13.0","highlight.js":"^11.7.0",html2canvas:"^1.4.1",katex:"^0.16.4","markdown-it":"^13.0.1","naive-ui":"^2.34.3",pinia:"^2.0.33",vue:"^3.2.47","vue-i18n":"^9.2.2","vue-router":"^4.1.6"},ct={"@antfu/eslint-config":"^0.35.3","@commitlint/cli":"^17.4.4","@commitlint/config-conventional":"^17.4.4","@iconify/vue":"^4.1.0","@types/crypto-js":"^4.1.1","@types/katex":"^0.16.0","@types/markdown-it":"^12.2.3","@types/markdown-it-link-attributes":"^3.0.1","@types/node":"^18.14.6","@vitejs/plugin-vue":"^4.0.0",autoprefixer:"^10.4.13",axios:"^1.3.4","crypto-js":"^4.1.1",eslint:"^8.35.0",husky:"^8.0.3",less:"^4.1.3","lint-staged":"^13.1.2","markdown-it-link-attributes":"^4.0.1","npm-run-all":"^4.1.5",postcss:"^8.4.21",rimraf:"^4.2.0",tailwindcss:"^3.2.7",typescript:"~4.9.5",vite:"^4.2.0","vite-plugin-pwa":"^0.14.4","vue-tsc":"^1.2.0"},dt={name:st,version:nt,private:!1,description:ot,author:at,keywords:it,scripts:lt,dependencies:rt,devDependencies:ct},ut={class:"p-4 space-y-4"},pt={class:"text-xl font-bold"},mt=s("div",{class:"p-2 space-y-2 rounded-md bg-neutral-100 dark:bg-neutral-700"},[s("p",null,[g(" 此项目开源于 "),s("a",{class:"text-blue-600 dark:text-blue-500",target:"_blank"},"Github"),g(" ，免费且基于 MIT 协议，没有任何形式的付费行为！ ")]),s("p",null," 如果你觉得此项目对你有帮助，请在 Github 帮我点个 Star 或者给予一点赞助，谢谢！ ")],-1),ft={key:0},ht={key:1},vt=P({__name:"About",setup(o){const u=ye(),a=T(!1),t=T(),p=x(()=>!!u.isChatGPTAPI);async function r(){try{a.value=!0;const{data:n}=await be();t.value=n}finally{a.value=!1}}return xe(()=>{r()}),(n,v)=>(B(),X(e(ze),{show:a.value},{default:d(()=>[s("div",ut,[s("h2",pt," Version - "+c(e(dt).version),1),mt,s("p",null,[g(c(n.$t("setting.api"))+"：",1),l(e(U),{type:"success"},{default:d(()=>{var h;return[g(c(((h=t.value)==null?void 0:h.apiModel)??"-"),1)]}),_:1})]),e(p)?(B(),V("p",ft,[g(c(n.$t("setting.balance"))+"：",1),l(e(U),{type:"success"},{default:d(()=>{var h;return[g(c(((h=t.value)==null?void 0:h.balance)??"-"),1)]}),_:1})])):H("",!0),e(p)?H("",!0):(B(),V("p",ht,[g(c(n.$t("setting.reverseProxy"))+"：",1),l(e(U),{type:"success"},{default:d(()=>{var h;return[g(c(((h=t.value)==null?void 0:h.reverseProxy)??"-"),1)]}),_:1})])),s("p",null,[g(c(n.$t("setting.timeout"))+"：",1),l(e(U),{type:"success"},{default:d(()=>{var h;return[g(c(((h=t.value)==null?void 0:h.timeoutMs)??"-"),1)]}),_:1})])])]),_:1},8,["show"]))}}),gt={class:"ml-2"},yt={class:"min-h-[100px] max-h-[78vh] overflow-auto"},xt={class:"ml-2"},kt=P({__name:"index",props:{visible:{type:Boolean}},emits:["update:visible"],setup(o,{emit:u}){const a=o,t=T("General"),p=x({get(){return a.visible},set(r){u("update:visible",r)}});return(r,n)=>(B(),X(e($e),{show:e(p),"onUpdate:show":n[1]||(n[1]=v=>_e(p)?p.value=v:null),"auto-focus":!1,preset:"card",style:{width:"95%","max-width":"640px"}},{default:d(()=>[l(e(ke),{value:t.value,"onUpdate:value":n[0]||(n[0]=v=>t.value=v),type:"line",animated:""},{default:d(()=>[l(e(J),{name:"General",tab:"General"},{tab:d(()=>[l(e(z),{class:"text-lg",icon:"ri:file-user-line"}),s("span",gt,c(r.$t("setting.general")),1)]),default:d(()=>[s("div",yt,[l(tt)])]),_:1}),l(e(J),{name:"Config",tab:"Config"},{tab:d(()=>[l(e(z),{class:"text-lg",icon:"ri:list-settings-line"}),s("span",xt,c(r.$t("setting.config")),1)]),default:d(()=>[l(vt)]),_:1})]),_:1},8,["value"])]),_:1},8,["show"]))}});export{kt as default};
