import{c as W,a as C,ah as ne,ai as T,d as P,u as J,g as j,aj as oe,h as x,ak as ae,al as K,i as Y,am as q,l as y,an as ie,T as le,ao as re,a2 as ce,A as de,M as ue,a1 as pe,r as w,ap as me,O as D,B as N,C as O,R as t,P as r,S as l,D as e,aq as fe,ar as E,N as U,W as u,ac as h,ad as b,Q as ve,_ as B,as as he,I as ge,a9 as ye,at as xe,$ as be,F as Q,U as F,au as ke,av as _e,aw as H,ax as $e,ay as Ce}from"./index-143e5ade.js";const we=W([W("@keyframes spin-rotate",`
 from {
 transform: rotate(0);
 }
 to {
 transform: rotate(360deg);
 }
 `),C("spin-container",{position:"relative"},[C("spin-body",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[ne()])]),C("spin-body",`
 display: inline-flex;
 align-items: center;
 justify-content: center;
 flex-direction: column;
 `),C("spin",`
 display: inline-flex;
 height: var(--n-size);
 width: var(--n-size);
 font-size: var(--n-size);
 color: var(--n-color);
 `,[T("rotate",`
 animation: spin-rotate 2s linear infinite;
 `)]),C("spin-description",`
 display: inline-block;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 margin-top: 8px;
 `),C("spin-content",`
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 pointer-events: all;
 `,[T("spinning",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: none;
 opacity: var(--n-opacity-spinning);
 `)])]),Se={small:20,medium:18,large:16},ze=Object.assign(Object.assign({},j.props),{description:String,stroke:String,size:{type:[String,Number],default:"medium"},show:{type:Boolean,default:!0},strokeWidth:Number,rotate:{type:Boolean,default:!0},spinning:{type:Boolean,validator:()=>!0,default:void 0}}),Te=P({name:"Spin",props:ze,setup(o){const{mergedClsPrefixRef:m,inlineThemeDisabled:a}=J(o),n=j("Spin","-spin",we,oe,o,m),f=x(()=>{const{size:s}=o,{common:{cubicBezierEaseInOut:g},self:v}=n.value,{opacitySpinning:$,color:_,textColor:S}=v,I=typeof s=="number"?ae(s):v[K("size",s)];return{"--n-bezier":g,"--n-opacity-spinning":$,"--n-size":I,"--n-color":_,"--n-text-color":S}}),c=a?Y("spin",x(()=>{const{size:s}=o;return typeof s=="number"?String(s):s[0]}),f,o):void 0;return{mergedClsPrefix:m,compitableShow:q(o,["spinning","show"]),mergedStrokeWidth:x(()=>{const{strokeWidth:s}=o;if(s!==void 0)return s;const{size:g}=o;return Se[typeof g=="number"?"medium":g]}),cssVars:a?void 0:f,themeClass:c==null?void 0:c.themeClass,onRender:c==null?void 0:c.onRender}},render(){var o,m;const{$slots:a,mergedClsPrefix:n,description:f}=this,c=a.icon&&this.rotate,s=(f||a.description)&&y("div",{class:`${n}-spin-description`},f||((o=a.description)===null||o===void 0?void 0:o.call(a))),g=a.icon?y("div",{class:[`${n}-spin-body`,this.themeClass]},y("div",{class:[`${n}-spin`,c&&`${n}-spin--rotate`],style:a.default?"":this.cssVars},a.icon()),s):y("div",{class:[`${n}-spin-body`,this.themeClass]},y(ie,{clsPrefix:n,style:a.default?"":this.cssVars,stroke:this.stroke,"stroke-width":this.mergedStrokeWidth,class:`${n}-spin`}),s);return(m=this.onRender)===null||m===void 0||m.call(this),a.default?y("div",{class:[`${n}-spin-container`,this.themeClass],style:this.cssVars},y("div",{class:[`${n}-spin-content`,this.compitableShow&&`${n}-spin-content--spinning`]},a),y(le,{name:"fade-in-transition"},{default:()=>this.compitableShow?g:null})):g}}),Be=C("text",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
`,[T("strong",`
 font-weight: var(--n-font-weight-strong);
 `),T("italic",{fontStyle:"italic"}),T("underline",{textDecoration:"underline"}),T("code",`
 line-height: 1.4;
 display: inline-block;
 font-family: var(--n-font-famliy-mono);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 box-sizing: border-box;
 padding: .05em .35em 0 .35em;
 border-radius: var(--n-code-border-radius);
 font-size: .9em;
 color: var(--n-code-text-color);
 background-color: var(--n-code-color);
 border: var(--n-code-border);
 `)]),Ne=Object.assign(Object.assign({},j.props),{code:Boolean,type:{type:String,default:"default"},delete:Boolean,strong:Boolean,italic:Boolean,underline:Boolean,depth:[String,Number],tag:String,as:{type:String,validator:()=>!0,default:void 0}}),V=P({name:"Text",props:Ne,setup(o){const{mergedClsPrefixRef:m,inlineThemeDisabled:a}=J(o),n=j("Typography","-text",Be,re,o,m),f=x(()=>{const{depth:s,type:g}=o,v=g==="default"?s===void 0?"textColor":`textColor${s}Depth`:K("textColor",g),{common:{fontWeightStrong:$,fontFamilyMono:_,cubicBezierEaseInOut:S},self:{codeTextColor:I,codeBorderRadius:A,codeColor:L,codeBorder:G,[v]:k}}=n.value;return{"--n-bezier":S,"--n-text-color":k,"--n-font-weight-strong":$,"--n-font-famliy-mono":_,"--n-code-border-radius":A,"--n-code-text-color":I,"--n-code-color":L,"--n-code-border":G}}),c=a?Y("text",x(()=>`${o.type[0]}${o.depth||""}`),f,o):void 0;return{mergedClsPrefix:m,compitableTag:q(o,["as","tag"]),cssVars:a?void 0:f,themeClass:c==null?void 0:c.themeClass,onRender:c==null?void 0:c.onRender}},render(){var o,m,a;const{mergedClsPrefix:n}=this;(o=this.onRender)===null||o===void 0||o.call(this);const f=[`${n}-text`,this.themeClass,{[`${n}-text--code`]:this.code,[`${n}-text--delete`]:this.delete,[`${n}-text--strong`]:this.strong,[`${n}-text--italic`]:this.italic,[`${n}-text--underline`]:this.underline}],c=(a=(m=this.$slots).default)===null||a===void 0?void 0:a.call(m);return this.code?y("code",{class:f,style:this.cssVars},this.delete?y("del",null,c):c):this.delete?y("del",{class:f,style:this.cssVars},c):y(this.compitableTag||"span",{class:f,style:this.cssVars},c)}});function Ie(){const o=new Date,m=o.getDate(),a=o.getMonth()+1;return`${o.getFullYear()}-${a}-${m}`}const Me={class:"p-4 space-y-5 min-h-[200px]"},Pe={class:"space-y-6"},Re={class:"flex items-center space-x-4"},De={class:"flex-shrink-0 w-[100px]"},Ue={class:"flex flex-wrap items-center gap-4"},Ve={class:"flex items-center space-x-4"},Oe={class:"flex-shrink-0 w-[100px]"},je={class:"flex-1"},Ae=t("div",{class:"dark:text-orange-200 text-orange-400"},' 设置该项后，AI将会在任何对话中，一直扮演你在初始指令中所描述的"东西"😋 ',-1),Le={class:"flex items-center space-x-4"},Ge={class:"flex-shrink-0 w-[100px]"},We={class:"flex-1"},Ee={class:"flex items-center space-x-4"},Fe={class:"flex-shrink-0 w-[100px]"},He={class:"flex-1"},Je={class:"flex items-center space-x-4"},Ke={class:"flex-shrink-0 w-[100px]"},Ye={class:"w-[200px]"},qe={class:"flex-shrink-0 w-[100px]"},Qe={class:"flex flex-wrap items-center gap-4"},Xe={class:"flex items-center space-x-4"},Ze={class:"flex-shrink-0 w-[100px]"},et={class:"flex flex-wrap items-center gap-4"},tt={class:"flex items-center space-x-4"},st={class:"flex-shrink-0 w-[100px]"},nt={class:"flex flex-wrap items-center gap-4"},ot={class:"flex items-center space-x-4"},at={class:"flex-shrink-0 w-[100px]"},it=P({__name:"General",setup(o){const m=ce(),a=de(),{isMobile:n}=ue(),f=pe(),c=x(()=>m.theme),s=x(()=>a.userInfo),g=w(s.value.avatar??""),v=w(s.value.aiAvatar??""),$=w(s.value.name??""),_=w(s.value.systemMessage??""),S=me(),I=x({get(){return s.value.aiModel??"gpt-3.5-turbo-16k"},set(i){k({aiAvatar:i})}}),A=x({get(){return m.language},set(i){m.setLanguage(i)}}),L=[{label:"Auto",key:"auto",icon:"ri:contrast-line"},{label:"Light",key:"light",icon:"ri:sun-foggy-line"},{label:"Dark",key:"dark",icon:"ri:moon-foggy-line"}],G=[{label:"简体中文",key:"zh-CN",value:"zh-CN"},{label:"繁體中文",key:"zh-TW",value:"zh-TW"},{label:"English",key:"en-US",value:"en-US"}];function k(i){a.updateUserInfo(i),f.success(D("common.success"))}function X(){a.resetUserInfo(),f.success(D("common.success")),window.location.reload()}function Z(){const i=Ie(),d=localStorage.getItem("chatStorage")||"{}",p=JSON.stringify(JSON.parse(d),null,2),z=new Blob([p],{type:"application/json"}),R=URL.createObjectURL(z),M=document.createElement("a");M.href=R,M.download=`chat-store_${i}.json`,document.body.appendChild(M),M.click(),document.body.removeChild(M)}function ee(i){const d=i.target;if(!d||!d.files)return;const p=d.files[0];if(!p)return;const z=new FileReader;z.onload=()=>{try{const R=JSON.parse(z.result);localStorage.setItem("chatStorage",JSON.stringify(R)),f.success(D("common.success")),location.reload()}catch{f.error(D("common.invalidFileFormat"))}},z.readAsText(p)}function te(){localStorage.removeItem("chatStorage"),location.reload()}function se(){const i=document.getElementById("fileInput");i&&i.click()}return(i,d)=>(N(),O("div",Me,[t("div",Pe,[t("div",Re,[t("span",De,r(i.$t("setting.aiModel")),1),t("div",Ue,[l(e(E),{style:{width:"180px"},value:e(I),options:e(fe),onUpdateValue:d[0]||(d[0]=p=>{k({aiModel:p})})},null,8,["value","options"])])]),t("div",Ve,[t("span",Oe,r(i.$t("setting.systemMessage")),1),t("div",je,[l(e(U),{value:_.value,"onUpdate:value":d[1]||(d[1]=p=>_.value=p),type:"textarea",placeholder:"",rows:"4"},null,8,["value"]),Ae]),l(e(b),{size:"tiny",text:"",type:"primary",onClick:d[2]||(d[2]=p=>k({systemMessage:_.value}))},{default:u(()=>[h(r(i.$t("common.save")),1)]),_:1}),l(e(b),{size:"tiny",text:"",type:"warning",onClick:d[3]||(d[3]=()=>{k({systemMessage:e(S)}),_.value=e(S)})},{default:u(()=>[h(r(i.$t("common.reset")),1)]),_:1})]),t("div",Le,[t("span",Ge,r(i.$t("setting.avatarLink")),1),t("div",We,[l(e(U),{value:g.value,"onUpdate:value":d[4]||(d[4]=p=>g.value=p),placeholder:""},null,8,["value"])]),l(e(b),{size:"tiny",text:"",type:"primary",onClick:d[5]||(d[5]=p=>k({avatar:g.value}))},{default:u(()=>[h(r(i.$t("common.save")),1)]),_:1})]),t("div",Ee,[t("span",Fe,r(i.$t("setting.gptAvatarLink")),1),t("div",He,[l(e(U),{value:v.value,"onUpdate:value":d[6]||(d[6]=p=>v.value=p),placeholder:""},null,8,["value"])]),l(e(b),{size:"tiny",text:"",type:"primary",onClick:d[7]||(d[7]=p=>k({aiAvatar:v.value}))},{default:u(()=>[h(r(i.$t("common.save")),1)]),_:1})]),t("div",Je,[t("span",Ke,r(i.$t("setting.name")),1),t("div",Ye,[l(e(U),{value:$.value,"onUpdate:value":d[8]||(d[8]=p=>$.value=p),placeholder:""},null,8,["value"])]),l(e(b),{size:"tiny",text:"",type:"primary",onClick:d[9]||(d[9]=p=>k({name:$.value}))},{default:u(()=>[h(r(i.$t("common.save")),1)]),_:1})]),t("div",{class:ve(["flex items-center space-x-4",e(n)&&"items-start"])},[t("span",qe,r(i.$t("setting.chatHistory")),1),t("div",Qe,[l(e(b),{size:"small",onClick:Z},{icon:u(()=>[l(e(B),{icon:"ri:download-2-fill"})]),default:u(()=>[h(" "+r(i.$t("common.export")),1)]),_:1}),t("input",{id:"fileInput",type:"file",style:{display:"none"},onChange:ee},null,32),l(e(b),{size:"small",onClick:se},{icon:u(()=>[l(e(B),{icon:"ri:upload-2-fill"})]),default:u(()=>[h(" "+r(i.$t("common.import")),1)]),_:1}),l(e(he),{placement:"bottom",onPositiveClick:te},{trigger:u(()=>[l(e(b),{size:"small"},{icon:u(()=>[l(e(B),{icon:"ri:close-circle-line"})]),default:u(()=>[h(" "+r(i.$t("common.clear")),1)]),_:1})]),default:u(()=>[h(" "+r(i.$t("chat.clearHistoryConfirm")),1)]),_:1})])],2),t("div",Xe,[t("span",Ze,r(i.$t("setting.theme")),1),t("div",et,[(N(),O(ge,null,ye(L,p=>l(e(b),{key:p.key,size:"small",type:p.key===e(c)?"primary":void 0,onClick:z=>e(m).setTheme(p.key)},{icon:u(()=>[l(e(B),{icon:p.icon},null,8,["icon"])]),_:2},1032,["type","onClick"])),64))])]),t("div",tt,[t("span",st,r(i.$t("setting.language")),1),t("div",nt,[l(e(E),{style:{width:"140px"},value:e(A),options:G,onUpdateValue:d[10]||(d[10]=p=>e(m).setLanguage(p))},null,8,["value"])])]),t("div",ot,[t("span",at,r(i.$t("setting.resetUserInfo")),1),l(e(b),{size:"small",onClick:X},{default:u(()=>[h(r(i.$t("common.reset")),1)]),_:1})])])]))}}),lt="chatgpt-web",rt="2.10.7",ct="ChatGPT Web",dt="ChenZhaoYu <chenzhaoyu1994@gmail.com>",ut=["chatgpt-web","chatgpt","chatbot","vue"],pt={dev:"vite",build:"run-p type-check build-only",preview:"vite preview","build-only":"vite build","type-check":"vue-tsc --noEmit",lint:"eslint .","lint:fix":"eslint . --fix",bootstrap:"pnpm install && pnpm run common:prepare","common:cleanup":"rimraf node_modules && rimraf pnpm-lock.yaml","common:prepare":"husky install"},mt={"@traptitech/markdown-it-katex":"^3.6.0","@vueuse/core":"^9.13.0","highlight.js":"^11.7.0",html2canvas:"^1.4.1",katex:"^0.16.4","markdown-it":"^13.0.1","naive-ui":"^2.34.3",pinia:"^2.0.33",vue:"^3.2.47","vue-i18n":"^9.2.2","vue-router":"^4.1.6"},ft={"@antfu/eslint-config":"^0.35.3","@commitlint/cli":"^17.4.4","@commitlint/config-conventional":"^17.4.4","@iconify/vue":"^4.1.0","@types/crypto-js":"^4.1.1","@types/katex":"^0.16.0","@types/markdown-it":"^12.2.3","@types/markdown-it-link-attributes":"^3.0.1","@types/node":"^18.14.6","@vitejs/plugin-vue":"^4.0.0",autoprefixer:"^10.4.13",axios:"^1.3.4","crypto-js":"^4.1.1",eslint:"^8.35.0",husky:"^8.0.3",less:"^4.1.3","lint-staged":"^13.1.2","markdown-it-link-attributes":"^4.0.1","npm-run-all":"^4.1.5",postcss:"^8.4.21",rimraf:"^4.2.0",tailwindcss:"^3.2.7",typescript:"~4.9.5",vite:"^4.2.0","vite-plugin-pwa":"^0.14.4","vue-tsc":"^1.2.0"},vt={name:lt,version:rt,private:!1,description:ct,author:dt,keywords:ut,scripts:pt,dependencies:mt,devDependencies:ft},ht={class:"p-4 space-y-4"},gt={class:"text-xl font-bold"},yt=t("div",{class:"p-2 space-y-2 rounded-md bg-neutral-100 dark:bg-neutral-700"},[t("p",null,[h(" 此项目开源于 "),t("a",{class:"text-blue-600 dark:text-blue-500",href:"https://github.com/Chanzhaoyu/chatgpt-web",target:"_blank"}," Github "),h(" ，免费且基于 MIT 协议，没有任何形式的付费行为！ ")]),t("p",null," 如果你觉得此项目对你有帮助，请在 Github 帮我点个 Star 或者给予一点赞助，谢谢！ ")],-1),xt={key:0},bt={key:1},kt=P({__name:"About",setup(o){const m=xe(),a=w(!1),n=w(),f=x(()=>!!m.isChatGPTAPI);async function c(){try{a.value=!0;const{data:s}=await ke();n.value=s}finally{a.value=!1}}return be(()=>{c()}),(s,g)=>(N(),Q(e(Te),{show:a.value},{default:u(()=>[t("div",ht,[t("h2",gt," Version - "+r(e(vt).version),1),yt,t("p",null,[h(r(s.$t("setting.api"))+"：",1),l(e(V),{type:"success"},{default:u(()=>{var v;return[h(r(((v=n.value)==null?void 0:v.apiModel)??"-"),1)]}),_:1})]),e(f)?(N(),O("p",xt,[h(r(s.$t("setting.balance"))+"：",1),l(e(V),{type:"success"},{default:u(()=>{var v;return[h(r(((v=n.value)==null?void 0:v.balance)??"-"),1)]}),_:1})])):F("",!0),e(f)?F("",!0):(N(),O("p",bt,[h(r(s.$t("setting.reverseProxy"))+"：",1),l(e(V),{type:"success"},{default:u(()=>{var v;return[h(r(((v=n.value)==null?void 0:v.reverseProxy)??"-"),1)]}),_:1})])),t("p",null,[h(r(s.$t("setting.timeout"))+"：",1),l(e(V),{type:"success"},{default:u(()=>{var v;return[h(r(((v=n.value)==null?void 0:v.timeoutMs)??"-"),1)]}),_:1})])])]),_:1},8,["show"]))}}),_t={class:"ml-2"},$t={class:"min-h-[100px]"},Ct={class:"ml-2"},St=P({__name:"index",props:{visible:{type:Boolean}},emits:["update:visible"],setup(o,{emit:m}){const a=o,n=w("General"),f=x({get(){return a.visible},set(c){m("update:visible",c)}});return(c,s)=>(N(),Q(e(Ce),{show:e(f),"onUpdate:show":s[1]||(s[1]=g=>$e(f)?f.value=g:null),"auto-focus":!1,preset:"card",style:{width:"95%","max-width":"640px"}},{default:u(()=>[t("div",null,[l(e(_e),{value:n.value,"onUpdate:value":s[0]||(s[0]=g=>n.value=g),type:"line",animated:""},{default:u(()=>[l(e(H),{name:"General",tab:"General"},{tab:u(()=>[l(e(B),{class:"text-lg",icon:"ri:file-user-line"}),t("span",_t,r(c.$t("setting.general")),1)]),default:u(()=>[t("div",$t,[l(it)])]),_:1}),l(e(H),{name:"Config",tab:"Config"},{tab:u(()=>[l(e(B),{class:"text-lg",icon:"ri:list-settings-line"}),t("span",Ct,r(c.$t("setting.config")),1)]),default:u(()=>[l(kt)]),_:1})]),_:1},8,["value"])])]),_:1},8,["show"]))}});export{St as default};
