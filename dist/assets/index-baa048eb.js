import{c as j,a as z,ah as q,ai as O,d as R,u as Q,g as G,aj as X,h as _,ak as Z,al as ee,i as te,am as se,l as x,an as ne,T as ae,a2 as ie,A as oe,M as le,a1 as re,r as w,ao as ce,B as N,C as A,R as e,P as s,S as i,D as t,N as U,W as u,ac as h,ad as g,Q as ue,_ as I,ap as de,I as pe,a9 as me,aq as ve,O as D,ar as fe,$ as he,F as W,U as L,as as ge,at as ye,au as V,av as ke,aw as be}from"./index-1b2d8ef6.js";const xe=j([j("@keyframes spin-rotate",`
 from {
 transform: rotate(0);
 }
 to {
 transform: rotate(360deg);
 }
 `),z("spin-container",{position:"relative"},[z("spin-body",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[q()])]),z("spin-body",`
 display: inline-flex;
 align-items: center;
 justify-content: center;
 flex-direction: column;
 `),z("spin",`
 display: inline-flex;
 height: var(--n-size);
 width: var(--n-size);
 font-size: var(--n-size);
 color: var(--n-color);
 `,[O("rotate",`
 animation: spin-rotate 2s linear infinite;
 `)]),z("spin-description",`
 display: inline-block;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 margin-top: 8px;
 `),z("spin-content",`
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 pointer-events: all;
 `,[O("spinning",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: none;
 opacity: var(--n-opacity-spinning);
 `)])]),_e={small:20,medium:18,large:16},$e=Object.assign(Object.assign({},G.props),{description:String,stroke:String,size:{type:[String,Number],default:"medium"},show:{type:Boolean,default:!0},strokeWidth:Number,rotate:{type:Boolean,default:!0},spinning:{type:Boolean,validator:()=>!0,default:void 0}}),we=R({name:"Spin",props:$e,setup(d){const{mergedClsPrefixRef:p,inlineThemeDisabled:r}=Q(d),o=G("Spin","-spin",xe,X,d,p),m=_(()=>{const{size:n}=d,{common:{cubicBezierEaseInOut:f},self:y}=o.value,{opacitySpinning:b,color:k,textColor:$}=y,C=typeof n=="number"?Z(n):y[ee("size",n)];return{"--n-bezier":f,"--n-opacity-spinning":b,"--n-size":C,"--n-color":k,"--n-text-color":$}}),v=r?te("spin",_(()=>{const{size:n}=d;return typeof n=="number"?String(n):n[0]}),m,d):void 0;return{mergedClsPrefix:p,compitableShow:se(d,["spinning","show"]),mergedStrokeWidth:_(()=>{const{strokeWidth:n}=d;if(n!==void 0)return n;const{size:f}=d;return _e[typeof f=="number"?"medium":f]}),cssVars:r?void 0:m,themeClass:v==null?void 0:v.themeClass,onRender:v==null?void 0:v.onRender}},render(){var d,p;const{$slots:r,mergedClsPrefix:o,description:m}=this,v=r.icon&&this.rotate,n=(m||r.description)&&x("div",{class:`${o}-spin-description`},m||((d=r.description)===null||d===void 0?void 0:d.call(r))),f=r.icon?x("div",{class:[`${o}-spin-body`,this.themeClass]},x("div",{class:[`${o}-spin`,v&&`${o}-spin--rotate`],style:r.default?"":this.cssVars},r.icon()),n):x("div",{class:[`${o}-spin-body`,this.themeClass]},x(ne,{clsPrefix:o,style:r.default?"":this.cssVars,stroke:this.stroke,"stroke-width":this.mergedStrokeWidth,class:`${o}-spin`}),n);return(p=this.onRender)===null||p===void 0||p.call(this),r.default?x("div",{class:[`${o}-spin-container`,this.themeClass],style:this.cssVars},x("div",{class:[`${o}-spin-content`,this.compitableShow&&`${o}-spin-content--spinning`]},r),x(ae,{name:"fade-in-transition"},{default:()=>this.compitableShow?f:null})):f}});function Ce(){const d=new Date,p=d.getDate(),r=d.getMonth()+1;return`${d.getFullYear()}-${r}-${p}`}const Se={class:"p-4 space-y-5 min-h-[200px]"},ze={class:"space-y-6"},Ie={class:"flex items-center space-x-4"},Ne={class:"flex-shrink-0 w-[100px]"},Pe={class:"flex-1"},Te={class:"flex items-center space-x-4"},Be={class:"flex-shrink-0 w-[100px]"},Me={class:"flex-1"},Ue={class:"flex items-center space-x-4"},De={class:"flex-shrink-0 w-[100px]"},Ae={class:"w-[200px]"},Re={class:"flex items-center space-x-4"},je={class:"flex-shrink-0 w-[100px]"},Oe={class:"flex-1"},Le=e("div",{class:"dark:text-orange-200 text-orange-400"},' 设置该项后，AI将会在任何对话中，一直扮演你在初始指令中所描述的"东西"😋 ',-1),Ve={class:"flex-shrink-0 w-[100px]"},Ge={class:"flex flex-wrap items-center gap-4"},We={class:"flex items-center space-x-4"},Ee={class:"flex-shrink-0 w-[100px]"},Fe={class:"flex flex-wrap items-center gap-4"},He={class:"flex items-center space-x-4"},Je={class:"flex-shrink-0 w-[100px]"},Ye={class:"flex flex-wrap items-center gap-4"},Ke={class:"flex items-center space-x-4"},qe={class:"flex-shrink-0 w-[100px]"},Qe=R({__name:"General",setup(d){const p=ie(),r=oe(),{isMobile:o}=le(),m=re(),v=_(()=>p.theme),n=_(()=>r.userInfo),f=w(n.value.avatar??""),y=w(n.value.aiAvatar??""),b=w(n.value.name??""),k=w(n.value.systemMessage??""),$=ce(),C=_({get(){return p.language},set(a){p.setLanguage(a)}}),B=[{label:"Auto",key:"auto",icon:"ri:contrast-line"},{label:"Light",key:"light",icon:"ri:sun-foggy-line"},{label:"Dark",key:"dark",icon:"ri:moon-foggy-line"}],E=[{label:"简体中文",key:"zh-CN",value:"zh-CN"},{label:"繁體中文",key:"zh-TW",value:"zh-TW"},{label:"English",key:"en-US",value:"en-US"}];function P(a){r.updateUserInfo(a),m.success(D("common.success"))}function F(){r.resetUserInfo(),m.success(D("common.success")),window.location.reload()}function H(){const a=Ce(),l=localStorage.getItem("chatStorage")||"{}",c=JSON.stringify(JSON.parse(l),null,2),S=new Blob([c],{type:"application/json"}),M=URL.createObjectURL(S),T=document.createElement("a");T.href=M,T.download=`chat-store_${a}.json`,document.body.appendChild(T),T.click(),document.body.removeChild(T)}function J(a){const l=a.target;if(!l||!l.files)return;const c=l.files[0];if(!c)return;const S=new FileReader;S.onload=()=>{try{const M=JSON.parse(S.result);localStorage.setItem("chatStorage",JSON.stringify(M)),m.success(D("common.success")),location.reload()}catch{m.error(D("common.invalidFileFormat"))}},S.readAsText(c)}function Y(){localStorage.removeItem("chatStorage"),location.reload()}function K(){const a=document.getElementById("fileInput");a&&a.click()}return(a,l)=>(N(),A("div",Se,[e("div",ze,[e("div",Ie,[e("span",Ne,s(a.$t("setting.avatarLink")),1),e("div",Pe,[i(t(U),{value:f.value,"onUpdate:value":l[0]||(l[0]=c=>f.value=c),placeholder:""},null,8,["value"])]),i(t(g),{size:"tiny",text:"",type:"primary",onClick:l[1]||(l[1]=c=>P({avatar:f.value}))},{default:u(()=>[h(s(a.$t("common.save")),1)]),_:1})]),e("div",Te,[e("span",Be,s(a.$t("setting.gptAvatarLink")),1),e("div",Me,[i(t(U),{value:y.value,"onUpdate:value":l[2]||(l[2]=c=>y.value=c),placeholder:""},null,8,["value"])]),i(t(g),{size:"tiny",text:"",type:"primary",onClick:l[3]||(l[3]=c=>P({aiAvatar:y.value}))},{default:u(()=>[h(s(a.$t("common.save")),1)]),_:1})]),e("div",Ue,[e("span",De,s(a.$t("setting.name")),1),e("div",Ae,[i(t(U),{value:b.value,"onUpdate:value":l[4]||(l[4]=c=>b.value=c),placeholder:""},null,8,["value"])]),i(t(g),{size:"tiny",text:"",type:"primary",onClick:l[5]||(l[5]=c=>P({name:b.value}))},{default:u(()=>[h(s(a.$t("common.save")),1)]),_:1})]),e("div",Re,[e("span",je,s(a.$t("setting.systemMessage")),1),e("div",Oe,[i(t(U),{value:k.value,"onUpdate:value":l[6]||(l[6]=c=>k.value=c),type:"textarea",placeholder:"",rows:"4"},null,8,["value"]),Le]),i(t(g),{size:"tiny",text:"",type:"primary",onClick:l[7]||(l[7]=c=>P({systemMessage:k.value}))},{default:u(()=>[h(s(a.$t("common.save")),1)]),_:1}),i(t(g),{size:"tiny",text:"",type:"warning",onClick:l[8]||(l[8]=()=>{P({systemMessage:t($)}),k.value=t($)})},{default:u(()=>[h(s(a.$t("common.reset")),1)]),_:1})]),e("div",{class:ue(["flex items-center space-x-4",t(o)&&"items-start"])},[e("span",Ve,s(a.$t("setting.chatHistory")),1),e("div",Ge,[i(t(g),{size:"small",onClick:H},{icon:u(()=>[i(t(I),{icon:"ri:download-2-fill"})]),default:u(()=>[h(" "+s(a.$t("common.export")),1)]),_:1}),e("input",{id:"fileInput",type:"file",style:{display:"none"},onChange:J},null,32),i(t(g),{size:"small",onClick:K},{icon:u(()=>[i(t(I),{icon:"ri:upload-2-fill"})]),default:u(()=>[h(" "+s(a.$t("common.import")),1)]),_:1}),i(t(de),{placement:"bottom",onPositiveClick:Y},{trigger:u(()=>[i(t(g),{size:"small"},{icon:u(()=>[i(t(I),{icon:"ri:close-circle-line"})]),default:u(()=>[h(" "+s(a.$t("common.clear")),1)]),_:1})]),default:u(()=>[h(" "+s(a.$t("chat.clearHistoryConfirm")),1)]),_:1})])],2),e("div",We,[e("span",Ee,s(a.$t("setting.theme")),1),e("div",Fe,[(N(),A(pe,null,me(B,c=>i(t(g),{key:c.key,size:"small",type:c.key===t(v)?"primary":void 0,onClick:S=>t(p).setTheme(c.key)},{icon:u(()=>[i(t(I),{icon:c.icon},null,8,["icon"])]),_:2},1032,["type","onClick"])),64))])]),e("div",He,[e("span",Je,s(a.$t("setting.language")),1),e("div",Ye,[i(t(ve),{style:{width:"140px"},value:t(C),options:E,onUpdateValue:l[9]||(l[9]=c=>t(p).setLanguage(c))},null,8,["value"])])]),e("div",Ke,[e("span",qe,s(a.$t("setting.resetUserInfo")),1),i(t(g),{size:"small",onClick:F},{default:u(()=>[h(s(a.$t("common.reset")),1)]),_:1})])])]))}}),Xe="chatgpt-web",Ze="2.10.7",et="ChatGPT Web",tt="ChenZhaoYu <chenzhaoyu1994@gmail.com>",st=["chatgpt-web","chatgpt","chatbot","vue"],nt={dev:"vite",build:"run-p type-check build-only",preview:"vite preview","build-only":"vite build","type-check":"vue-tsc --noEmit",lint:"eslint .","lint:fix":"eslint . --fix",bootstrap:"pnpm install && pnpm run common:prepare","common:cleanup":"rimraf node_modules && rimraf pnpm-lock.yaml","common:prepare":"husky install"},at={"@traptitech/markdown-it-katex":"^3.6.0","@vueuse/core":"^9.13.0","highlight.js":"^11.7.0",html2canvas:"^1.4.1",katex:"^0.16.4","markdown-it":"^13.0.1","naive-ui":"^2.34.3",pinia:"^2.0.33",vue:"^3.2.47","vue-i18n":"^9.2.2","vue-router":"^4.1.6"},it={"@antfu/eslint-config":"^0.35.3","@commitlint/cli":"^17.4.4","@commitlint/config-conventional":"^17.4.4","@iconify/vue":"^4.1.0","@types/crypto-js":"^4.1.1","@types/katex":"^0.16.0","@types/markdown-it":"^12.2.3","@types/markdown-it-link-attributes":"^3.0.1","@types/node":"^18.14.6","@vitejs/plugin-vue":"^4.0.0",autoprefixer:"^10.4.13",axios:"^1.3.4","crypto-js":"^4.1.1",eslint:"^8.35.0",husky:"^8.0.3",less:"^4.1.3","lint-staged":"^13.1.2","markdown-it-link-attributes":"^4.0.1","npm-run-all":"^4.1.5",postcss:"^8.4.21",rimraf:"^4.2.0",tailwindcss:"^3.2.7",typescript:"~4.9.5",vite:"^4.2.0","vite-plugin-pwa":"^0.14.4","vue-tsc":"^1.2.0"},ot={name:Xe,version:Ze,private:!1,description:et,author:tt,keywords:st,scripts:nt,dependencies:at,devDependencies:it},lt={class:"p-4 space-y-4"},rt={class:"text-xl font-bold"},ct=e("div",{class:"p-2 space-y-2 rounded-md bg-neutral-100 dark:bg-neutral-700"},[e("p",null,[h(" 此项目开源于 "),e("a",{class:"text-blue-600 dark:text-blue-500",href:"https://github.com/Chanzhaoyu/chatgpt-web",target:"_blank"}," Github "),h(" ，免费且基于 MIT 协议，没有任何形式的付费行为！ ")]),e("p",null," 如果你觉得此项目对你有帮助，请在 Github 帮我点个 Star 或者给予一点赞助，谢谢！ ")],-1),ut={key:0},dt={key:1},pt=R({__name:"About",setup(d){const p=fe(),r=w(!1),o=w(),m=_(()=>!!p.isChatGPTAPI);async function v(){try{r.value=!0;const{data:n}=await ge();o.value=n}finally{r.value=!1}}return he(()=>{v()}),(n,f)=>(N(),W(t(we),{show:r.value},{default:u(()=>{var y,b,k,$,C,B;return[e("div",lt,[e("h2",rt," Version - "+s(t(ot).version),1),ct,e("p",null,s(n.$t("setting.api"))+"："+s(((y=o.value)==null?void 0:y.apiModel)??"-"),1),t(m)?(N(),A("p",ut,s(n.$t("setting.balance"))+"："+s(((b=o.value)==null?void 0:b.balance)??"-"),1)):L("",!0),t(m)?L("",!0):(N(),A("p",dt,s(n.$t("setting.reverseProxy"))+"："+s(((k=o.value)==null?void 0:k.reverseProxy)??"-"),1)),e("p",null,s(n.$t("setting.timeout"))+"："+s((($=o.value)==null?void 0:$.timeoutMs)??"-"),1),e("p",null,s(n.$t("setting.socks"))+"："+s(((C=o.value)==null?void 0:C.socksProxy)??"-"),1),e("p",null,s(n.$t("setting.httpsProxy"))+"："+s(((B=o.value)==null?void 0:B.httpsProxy)??"-"),1)])]}),_:1},8,["show"]))}}),mt={class:"ml-2"},vt={class:"min-h-[100px]"},ft={class:"ml-2"},gt=R({__name:"index",props:{visible:{type:Boolean}},emits:["update:visible"],setup(d,{emit:p}){const r=d,o=w("General"),m=_({get(){return r.visible},set(v){p("update:visible",v)}});return(v,n)=>(N(),W(t(be),{show:t(m),"onUpdate:show":n[1]||(n[1]=f=>ke(m)?m.value=f:null),"auto-focus":!1,preset:"card",style:{width:"95%","max-width":"640px"}},{default:u(()=>[e("div",null,[i(t(ye),{value:o.value,"onUpdate:value":n[0]||(n[0]=f=>o.value=f),type:"line",animated:""},{default:u(()=>[i(t(V),{name:"General",tab:"General"},{tab:u(()=>[i(t(I),{class:"text-lg",icon:"ri:file-user-line"}),e("span",mt,s(v.$t("setting.general")),1)]),default:u(()=>[e("div",vt,[i(Qe)])]),_:1}),i(t(V),{name:"Config",tab:"Config"},{tab:u(()=>[i(t(I),{class:"text-lg",icon:"ri:list-settings-line"}),e("span",ft,s(v.$t("setting.config")),1)]),default:u(()=>[i(pt)]),_:1})]),_:1},8,["value"])])]),_:1},8,["show"]))}});export{gt as default};
