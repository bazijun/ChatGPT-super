import{e as W,g as k,Y as Z,j as $,d as M,m as J,q as V,bc as ee,c as b,bd as te,U as K,s as Y,be as X,h as y,bf as se,C as ne,bg as oe,aX as ie,aA as ae,aJ as le,a_ as re,a as U,aB as S,aL as I,aQ as i,aR as d,aO as l,aD as e,aU as ce,bh as E,aM as G,A as de,aP as u,b6 as h,as as x,aN as w,bi as ue,a5 as pe,b2 as me,bj as fe,aK as D,bk as he,L as ge,aS as F,bl as ve,aC as ye,bm as be,bn as H,bo as xe,bp as ke}from"./index-669c89c7.js";import{a as _e}from"./useAIModal-47926efd.js";const Ce=W([W("@keyframes spin-rotate",`
 from {
 transform: rotate(0);
 }
 to {
 transform: rotate(360deg);
 }
 `),k("spin-container",{position:"relative"},[k("spin-body",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[Z()])]),k("spin-body",`
 display: inline-flex;
 align-items: center;
 justify-content: center;
 flex-direction: column;
 `),k("spin",`
 display: inline-flex;
 height: var(--n-size);
 width: var(--n-size);
 font-size: var(--n-size);
 color: var(--n-color);
 `,[$("rotate",`
 animation: spin-rotate 2s linear infinite;
 `)]),k("spin-description",`
 display: inline-block;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 margin-top: 8px;
 `),k("spin-content",`
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 pointer-events: all;
 `,[$("spinning",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: none;
 opacity: var(--n-opacity-spinning);
 `)])]),$e={small:20,medium:18,large:16},we=Object.assign(Object.assign({},V.props),{description:String,stroke:String,size:{type:[String,Number],default:"medium"},show:{type:Boolean,default:!0},strokeWidth:Number,rotate:{type:Boolean,default:!0},spinning:{type:Boolean,validator:()=>!0,default:void 0}}),Se=M({name:"Spin",props:we,setup(s){const{mergedClsPrefixRef:r,inlineThemeDisabled:n}=J(s),t=V("Spin","-spin",Ce,ee,s,r),p=b(()=>{const{size:a}=s,{common:{cubicBezierEaseInOut:f},self:m}=t.value,{opacitySpinning:_,color:z,textColor:T}=m,B=typeof a=="number"?te(a):m[K("size",a)];return{"--n-bezier":f,"--n-opacity-spinning":_,"--n-size":B,"--n-color":z,"--n-text-color":T}}),o=n?Y("spin",b(()=>{const{size:a}=s;return typeof a=="number"?String(a):a[0]}),p,s):void 0;return{mergedClsPrefix:r,compitableShow:X(s,["spinning","show"]),mergedStrokeWidth:b(()=>{const{strokeWidth:a}=s;if(a!==void 0)return a;const{size:f}=s;return $e[typeof f=="number"?"medium":f]}),cssVars:n?void 0:p,themeClass:o==null?void 0:o.themeClass,onRender:o==null?void 0:o.onRender}},render(){var s,r;const{$slots:n,mergedClsPrefix:t,description:p}=this,o=n.icon&&this.rotate,a=(p||n.description)&&y("div",{class:`${t}-spin-description`},p||((s=n.description)===null||s===void 0?void 0:s.call(n))),f=n.icon?y("div",{class:[`${t}-spin-body`,this.themeClass]},y("div",{class:[`${t}-spin`,o&&`${t}-spin--rotate`],style:n.default?"":this.cssVars},n.icon()),a):y("div",{class:[`${t}-spin-body`,this.themeClass]},y(se,{clsPrefix:t,style:n.default?"":this.cssVars,stroke:this.stroke,"stroke-width":this.mergedStrokeWidth,class:`${t}-spin`}),a);return(r=this.onRender)===null||r===void 0||r.call(this),n.default?y("div",{class:[`${t}-spin-container`,this.themeClass],style:this.cssVars},y("div",{class:[`${t}-spin-content`,this.compitableShow&&`${t}-spin-content--spinning`]},n),y(ne,{name:"fade-in-transition"},{default:()=>this.compitableShow?f:null})):f}}),ze=k("text",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
`,[$("strong",`
 font-weight: var(--n-font-weight-strong);
 `),$("italic",{fontStyle:"italic"}),$("underline",{textDecoration:"underline"}),$("code",`
 line-height: 1.4;
 display: inline-block;
 font-family: var(--n-font-famliy-mono);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 box-sizing: border-box;
 padding: .05em .35em 0 .35em;
 border-radius: var(--n-code-border-radius);
 font-size: .9em;
 color: var(--n-code-text-color);
 background-color: var(--n-code-color);
 border: var(--n-code-border);
 `)]),Te=Object.assign(Object.assign({},V.props),{code:Boolean,type:{type:String,default:"default"},delete:Boolean,strong:Boolean,italic:Boolean,underline:Boolean,depth:[String,Number],tag:String,as:{type:String,validator:()=>!0,default:void 0}}),O=M({name:"Text",props:Te,setup(s){const{mergedClsPrefixRef:r,inlineThemeDisabled:n}=J(s),t=V("Typography","-text",ze,oe,s,r),p=b(()=>{const{depth:a,type:f}=s,m=f==="default"?a===void 0?"textColor":`textColor${a}Depth`:K("textColor",f),{common:{fontWeightStrong:_,fontFamilyMono:z,cubicBezierEaseInOut:T},self:{codeTextColor:B,codeBorderRadius:P,codeColor:j,codeBorder:L,[m]:A}}=t.value;return{"--n-bezier":T,"--n-text-color":A,"--n-font-weight-strong":_,"--n-font-famliy-mono":z,"--n-code-border-radius":P,"--n-code-text-color":B,"--n-code-color":j,"--n-code-border":L}}),o=n?Y("text",b(()=>`${s.type[0]}${s.depth||""}`),p,s):void 0;return{mergedClsPrefix:r,compitableTag:X(s,["as","tag"]),cssVars:n?void 0:p,themeClass:o==null?void 0:o.themeClass,onRender:o==null?void 0:o.onRender}},render(){var s,r,n;const{mergedClsPrefix:t}=this;(s=this.onRender)===null||s===void 0||s.call(this);const p=[`${t}-text`,this.themeClass,{[`${t}-text--code`]:this.code,[`${t}-text--delete`]:this.delete,[`${t}-text--strong`]:this.strong,[`${t}-text--italic`]:this.italic,[`${t}-text--underline`]:this.underline}],o=(n=(r=this.$slots).default)===null||n===void 0?void 0:n.call(r);return this.code?y("code",{class:p,style:this.cssVars},this.delete?y("del",null,o):o):this.delete?y("del",{class:p,style:this.cssVars},o):y(this.compitableTag||"span",{class:p,style:this.cssVars},o)}});function Be(){const s=new Date,r=s.getDate(),n=s.getMonth()+1;return`${s.getFullYear()}-${n}-${r}`}const Ne={class:"p-4 space-y-5 min-h-[200px]"},Ie={class:"space-y-6"},Me={class:"flex items-center space-x-4"},Pe={class:"flex-shrink-0 w-[100px]"},Re={class:"flex flex-wrap items-center gap-4"},De={class:"flex-shrink-0 w-[100px]"},Oe={class:"flex-1"},Ue=i("div",{class:"dark:text-orange-200 text-orange-400"},' è®¾ç½®è¯¥é¡¹åŽï¼ŒAIå°†ä¼šåœ¨ä»»ä½•å¯¹è¯ä¸­ï¼Œä¸€ç›´æ‰®æ¼”ä½ åœ¨åˆå§‹æŒ‡ä»¤ä¸­æ‰€æè¿°çš„"ä¸œè¥¿"ðŸ˜‹ ',-1),Ve={class:"flex-shrink-0 w-[100px]"},je={class:"flex flex-wrap items-center gap-4"},Le={class:"flex items-center space-x-4"},Ae={class:"flex-shrink-0 w-[100px]"},Ge={class:"flex flex-wrap items-center gap-4"},We={class:"flex items-center space-x-4"},Ee={class:"flex-shrink-0 w-[100px]"},Fe={class:"flex flex-wrap items-center gap-4"},He={class:"flex items-center space-x-4"},Je={class:"flex-shrink-0 w-[100px]"},Ke=M({__name:"General",setup(s){const r=ie(),n=ae(),{isMobile:t}=le(),p=_e(),o=re(),a=b(()=>r.theme),f=b(()=>n.userInfo),m=U(f.value.systemMessage??""),_=fe(),z=b({get(){return r.language},set(c){r.setLanguage(c)}}),T=[{label:"Auto",key:"auto",icon:"ri:contrast-line"},{label:"Light",key:"light",icon:"ri:sun-foggy-line"},{label:"Dark",key:"dark",icon:"ri:moon-foggy-line"}],B=[{label:"ç®€ä½“ä¸­æ–‡",key:"zh-CN",value:"zh-CN"},{label:"ç¹é«”ä¸­æ–‡",key:"zh-TW",value:"zh-TW"},{label:"English",key:"en-US",value:"en-US"}];function P(c){n.updateUserInfo(c),o.success(D("common.success"))}function j(){n.resetUserInfo(),o.success(D("common.success")),window.location.reload()}function L(){const c=Be(),g=localStorage.getItem("chatStorage")||"{}",v=JSON.stringify(JSON.parse(g),null,2),C=new Blob([v],{type:"application/json"}),R=URL.createObjectURL(C),N=document.createElement("a");N.href=R,N.download=`chat-store_${c}.json`,document.body.appendChild(N),N.click(),document.body.removeChild(N)}function A(c){const g=c.target;if(!g||!g.files)return;const v=g.files[0];if(!v)return;const C=new FileReader;C.onload=()=>{try{const R=JSON.parse(C.result);localStorage.setItem("chatStorage",JSON.stringify(R)),o.success(D("common.success")),location.reload()}catch{o.error(D("common.invalidFileFormat"))}},C.readAsText(v)}function q(){localStorage.removeItem("chatStorage"),location.reload()}function Q(){const c=document.getElementById("fileInput");c&&c.click()}return(c,g)=>(S(),I("div",Ne,[i("div",Ie,[i("div",Me,[i("span",Pe,d(c.$t("setting.aiModel")),1),i("div",Re,[l(e(E),{style:{width:"180px"},value:e(p),options:e(ce),"onUpdate:value":g[0]||(g[0]=v=>p.value=v)},null,8,["value","options"])])]),i("div",{class:G(`${e(t)?"space-y-2":"flex items-center space-x-4"}`)},[i("span",De,d(c.$t("setting.systemMessage")),1),i("div",Oe,[l(e(de),{value:m.value,"onUpdate:value":g[1]||(g[1]=v=>m.value=v),type:"textarea",placeholder:"",rows:3},null,8,["value"]),Ue]),i("div",{class:G(`${e(t)&&"text-right"} space-x-3`)},[l(e(x),{size:"tiny",text:!e(t),tertiary:e(t),type:"primary",onClick:g[2]||(g[2]=v=>P({systemMessage:m.value}))},{default:u(()=>[h(d(c.$t("common.save")),1)]),_:1},8,["text","tertiary"]),l(e(x),{size:"tiny",text:!e(t),tertiary:e(t),type:"warning",onClick:g[3]||(g[3]=()=>{P({systemMessage:e(_)}),m.value=e(_)})},{default:u(()=>[h(d(c.$t("common.reset")),1)]),_:1},8,["text","tertiary"])],2)],2),i("div",{class:G(["flex items-center space-x-4",e(t)&&"items-start"])},[i("span",Ve,d(c.$t("setting.chatHistory")),1),i("div",je,[l(e(x),{size:"small",onClick:L},{icon:u(()=>[l(e(w),{icon:"ri:download-2-fill"})]),default:u(()=>[h(" "+d(c.$t("common.export")),1)]),_:1}),i("input",{id:"fileInput",type:"file",style:{display:"none"},onChange:A},null,32),l(e(x),{size:"small",onClick:Q},{icon:u(()=>[l(e(w),{icon:"ri:upload-2-fill"})]),default:u(()=>[h(" "+d(c.$t("common.import")),1)]),_:1}),l(e(ue),{placement:"bottom",onPositiveClick:q},{trigger:u(()=>[l(e(x),{size:"small"},{icon:u(()=>[l(e(w),{icon:"ri:close-circle-line"})]),default:u(()=>[h(" "+d(c.$t("common.clear")),1)]),_:1})]),default:u(()=>[h(" "+d(c.$t("chat.clearHistoryConfirm")),1)]),_:1})])],2),i("div",Le,[i("span",Ae,d(c.$t("setting.theme")),1),i("div",Ge,[(S(),I(pe,null,me(T,v=>l(e(x),{key:v.key,size:"small",type:v.key===e(a)?"primary":void 0,onClick:C=>e(r).setTheme(v.key)},{icon:u(()=>[l(e(w),{icon:v.icon},null,8,["icon"])]),_:2},1032,["type","onClick"])),64))])]),i("div",We,[i("span",Ee,d(c.$t("setting.language")),1),i("div",Fe,[l(e(E),{style:{width:"140px"},value:e(z),options:B,onUpdateValue:g[4]||(g[4]=v=>e(r).setLanguage(v))},null,8,["value"])])]),i("div",He,[i("span",Je,d(c.$t("setting.resetUserInfo")),1),l(e(x),{size:"small",onClick:j},{default:u(()=>[h(d(c.$t("common.reset")),1)]),_:1})])])]))}}),Ye="chatgpt-web",Xe="24.1.4+1139",qe="ChatGPT Web",Qe="ChenZhaoYu <chenzhaoyu1994@gmail.com>",Ze=["chatgpt-web","chatgpt","chatbot","vue"],et={dev:"vite",build:"run-p type-check build-only",preview:"vite preview","build-only":"vite build","type-check":"vue-tsc --noEmit",lint:"eslint .","lint:fix":"eslint . --fix",bootstrap:"pnpm install && pnpm run common:prepare","common:cleanup":"rimraf node_modules && rimraf pnpm-lock.yaml","common:prepare":"husky install"},tt={"@traptitech/markdown-it-katex":"^3.6.0","@vueuse/core":"^9.13.0","highlight.js":"^11.7.0",html2canvas:"^1.4.1",katex:"^0.16.4","markdown-it":"^13.0.1","naive-ui":"^2.34.3",pinia:"^2.0.33",vue:"^3.2.47","vue-i18n":"^9.2.2","vue-router":"^4.1.6"},st={"@antfu/eslint-config":"^0.35.3","@commitlint/cli":"^17.4.4","@commitlint/config-conventional":"^17.4.4","@iconify/vue":"^4.1.0","@types/crypto-js":"^4.1.1","@types/katex":"^0.16.0","@types/markdown-it":"^12.2.3","@types/markdown-it-link-attributes":"^3.0.1","@types/node":"^18.14.6","@vitejs/plugin-vue":"^4.0.0",autoprefixer:"^10.4.13",axios:"^1.3.4","crypto-js":"^4.1.1",eslint:"^8.35.0",husky:"^8.0.3",less:"^4.1.3","lint-staged":"^13.1.2","markdown-it-link-attributes":"^4.0.1","npm-run-all":"^4.1.5",postcss:"^8.4.21",rimraf:"^4.2.0",tailwindcss:"^3.2.7",typescript:"~4.9.5",vite:"^4.2.0","vite-plugin-pwa":"^0.14.4","vue-tsc":"^1.2.0"},nt={name:Ye,version:Xe,private:!1,description:qe,author:Qe,keywords:Ze,scripts:et,dependencies:tt,devDependencies:st},ot={class:"p-4 space-y-4"},it={class:"text-xl font-bold"},at=i("div",{class:"p-2 space-y-2 rounded-md bg-neutral-100 dark:bg-neutral-700"},[i("p",null,[h(" æ­¤é¡¹ç›®å¼€æºäºŽ "),i("a",{class:"text-blue-600 dark:text-blue-500",target:"_blank"},"Github"),h(" ï¼Œå…è´¹ä¸”åŸºäºŽ MIT åè®®ï¼Œæ²¡æœ‰ä»»ä½•å½¢å¼çš„ä»˜è´¹è¡Œä¸ºï¼ ")]),i("p",null," å¦‚æžœä½ è§‰å¾—æ­¤é¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·åœ¨ Github å¸®æˆ‘ç‚¹ä¸ª Star æˆ–è€…ç»™äºˆä¸€ç‚¹èµžåŠ©ï¼Œè°¢è°¢ï¼ ")],-1),lt={key:0},rt={key:1},ct=M({__name:"About",setup(s){const r=he(),n=U(!1),t=U(),p=b(()=>!!r.isChatGPTAPI);async function o(){try{n.value=!0;const{data:a}=await ve();t.value=a}finally{n.value=!1}}return ge(()=>{o()}),(a,f)=>(S(),I("div",ot,[i("h2",it," Version - "+d(e(nt).version),1),at,l(e(Se),{show:n.value},{default:u(()=>[i("p",null,[h(d(a.$t("setting.api"))+"ï¼š",1),l(e(O),{type:"success"},{default:u(()=>{var m;return[h(d(((m=t.value)==null?void 0:m.apiModel)??"-"),1)]}),_:1})]),e(p)?(S(),I("p",lt,[h(d(a.$t("setting.balance"))+"ï¼š",1),l(e(O),{type:"success"},{default:u(()=>{var m;return[h(d(((m=t.value)==null?void 0:m.balance)??"-"),1)]}),_:1})])):F("",!0),e(p)?F("",!0):(S(),I("p",rt,[h(d(a.$t("setting.reverseProxy"))+"ï¼š",1),l(e(O),{type:"success"},{default:u(()=>{var m;return[h(d(((m=t.value)==null?void 0:m.reverseProxy)??"-"),1)]}),_:1})])),i("p",null,[h(d(a.$t("setting.timeout"))+"ï¼š",1),l(e(O),{type:"success"},{default:u(()=>{var m;return[h(d(((m=t.value)==null?void 0:m.timeoutMs)??"-"),1)]}),_:1})])]),_:1},8,["show"])]))}}),dt={class:"ml-2"},ut={class:"min-h-[100px] max-h-[78vh] overflow-auto"},pt={class:"ml-2"},ht=M({__name:"index",props:{visible:{type:Boolean}},emits:["update:visible"],setup(s,{emit:r}){const n=s,t=U("General"),p=b({get(){return n.visible},set(o){r("update:visible",o)}});return(o,a)=>(S(),ye(e(ke),{show:e(p),"onUpdate:show":a[1]||(a[1]=f=>xe(p)?p.value=f:null),"auto-focus":!1,preset:"card",style:{width:"95%","max-width":"640px"}},{default:u(()=>[l(e(be),{value:t.value,"onUpdate:value":a[0]||(a[0]=f=>t.value=f),type:"line",animated:""},{default:u(()=>[l(e(H),{name:"General",tab:"General"},{tab:u(()=>[l(e(w),{class:"text-lg",icon:"ri:file-user-line"}),i("span",dt,d(o.$t("setting.general")),1)]),default:u(()=>[i("div",ut,[l(Ke)])]),_:1}),l(e(H),{name:"Config",tab:"Config"},{tab:u(()=>[l(e(w),{class:"text-lg",icon:"ri:list-settings-line"}),i("span",pt,d(o.$t("setting.config")),1)]),default:u(()=>[l(ct)]),_:1})]),_:1},8,["value"])]),_:1},8,["show"]))}});export{ht as default};
